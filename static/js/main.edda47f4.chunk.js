(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(4),s=n.n(a),i=n(3),u=n.n(i),l=n(19),o=n(6),d=n(5),j=n(0),b=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"Add a city for getting the weather forecast"})})},p=function(e){var t=e.addCity,n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),a&&t(a),s("")},children:Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("div",{className:"input-group mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:Object(j.jsx)("input",{type:"text",name:"city",value:a,onChange:function(e){s(e.target.value)},className:"form-control",placeholder:"City name"})}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add"})})]})})})},m=(n(26),function(e){var t=e.id,n=e.handleDelete,c=e.name;return Object(j.jsxs)("li",{className:"list-group-item",children:[c,Object(j.jsx)("button",{className:"btn btn-danger btn-sm",id:t,onClick:function(e){e.preventDefault(),n(e.currentTarget.id)},children:"Delete"})]})}),f=function(e){var t=e.cities,n=e.handleDelete;return Object(j.jsx)("div",{className:"input-group mb-3",children:Object(j.jsx)("ul",{className:"list-group list-group-flush",children:t.map((function(e){return Object(j.jsx)(m,{id:e.id,handleDelete:n,name:e.name},e.key)}))})})},h=(n(27),function(e){var t=e.cities,n=e.setForecast;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Cities"}),Object(j.jsx)("div",{className:"row",children:t.map((function(e){var t=Math.round(e.forecast.temp),c=Math.round(e.forecast.feels_like),r=Math.round(e.forecast.temp_max),a=Math.round(e.forecast.temp_min);return Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-body",onClick:function(e){e.currentTarget.classList.toggle("active")},children:[Object(j.jsxs)("div",{className:"city-info",children:[Object(j.jsx)("h2",{className:"card-title",children:e.name}),Object(j.jsxs)("p",{className:"card-text",children:["current temp: ",t," \xb0C"]})]}),Object(j.jsxs)("div",{className:"additional-info",children:[Object(j.jsxs)("p",{className:"card-text",children:["feels like: ",c," \xb0C"]}),Object(j.jsxs)("p",{className:"card-text",children:["humidity: ",e.forecast.humidity," %"]}),Object(j.jsxs)("p",{className:"card-text",children:["pressure: ",e.forecast.pressure," hPa"]}),Object(j.jsxs)("p",{className:"card-text",children:["temp max: ",r," \xb0C"]}),Object(j.jsxs)("p",{className:"card-text",children:["temp min: ",a," \xb0C"]})]})]},e.key),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){return n(e.name)},children:"Update Weather"})]})})}))})]})}),x=n(18),O=n.n(x),v=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&APPID=17dc0e3798f4ba2ad7fd5bb1cf11d460"));case 2:return n=e.sent,e.abrupt("return",n.data.main);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=function(e){var t=Object(c.useState)(JSON.parse(localStorage.getItem(e))||[]),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r]),[r,a]}("cities"),t=Object(d.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=[],e.t2=Object(l.a)(n),e.t3=Date.now(),e.t4=Date.now(),e.t5=t,e.next=8,i(t);case 8:e.t6=e.sent,e.t7={key:e.t3,id:e.t4,name:e.t5,forecast:e.t6},e.t8=[e.t7],e.t9=e.t1.concat.call(e.t1,e.t2,e.t8),(0,e.t0)(e.t9);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:c=e.sent,a=n.filter((function(e){return e.name==t?e.forecast=c:n})),r(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"app container",children:Object(j.jsxs)("div",{className:"citiesListMain",children:[Object(j.jsx)(b,{}),Object(j.jsx)(p,{addCity:a}),Object(j.jsx)(f,{cities:n,handleDelete:function(e){var t=n.filter((function(t){return t.id!=e}));r(t)}}),Object(j.jsx)(h,{cities:n,setForecast:s})]})})},g=document.querySelector("#root");s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),g)}},[[46,1,2]]]);
//# sourceMappingURL=main.edda47f4.chunk.js.map
